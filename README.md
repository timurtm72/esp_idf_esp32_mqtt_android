Проект на языке C он работает с сервером Mosquito установленном на VPS сервере. Данные с датчика влажности и температуры передаются с ESP32-S3 devkit на сервер а на плату ESP32-S3 devkit передаются команды по управлению цветом RGB с помощью модуля RMT выводятся на RGB светодиод. Проект на Python https://github.com/timurtm72/python_gui_mqtt_esp32


ESP32-S3 IoT Система Управления и Мониторинга
Проект представляет собой IoT систему на базе ESP32-S3, которая собирает данные с датчика DHT (температура/влажность) и управляет RGB светодиодной лентой WS2812. Система подключается к MQTT брокеру для удаленного управления и мониторинга.
Архитектура проекта
Проект реализован в виде многозадачного приложения на FreeRTOS с несколькими параллельными задачами:
DHT задача - считывает данные с датчика температуры и влажности
LED задача - управляет RGB светодиодной лентой
Process задача - обрабатывает полученные данные и публикует их по MQTT
Основные компоненты
WiFi - подключение к беспроводной сети, использует DHCP
MQTT - двусторонняя связь с брокером:
Публикация данных с датчика
Получение команд управления светодиодами
DHT21/AM2301 - датчик температуры и влажности
WS2812 - адресуемая RGB светодиодная лента
Технические особенности
Использование EventGroups для управления состояниями (WiFi подключение, MQTT соединение)
Очереди FreeRTOS для межзадачного взаимодействия
Обработка ошибок и повторные попытки подключения при сбоях
Фильтрация и сглаживание данных с датчика
Реализация протокола управления WS2812 светодиодами через RMT
JSON обработка для MQTT сообщений с использованием cJSON
Сторожевой таймер (WDT) для обнаружения зависаний
Потоки данных
Входящие
Команды управления RGB через MQTT (цвет и яркость)
Исходящие
Данные температуры и влажности по MQTT
Файлы проекта
main.c - точка входа, запуск задач
main.h - общие определения и прототипы
wifi.c - инициализация и управление WiFi
mqtt.c - работа с MQTT протоколом
dht.c - чтение и обработка данных с DHT сенсора
led.c - управление RGB светодиодами
process.c - обработка и публикация данных
led_strip_encoder.c/.h - кодирование данных для WS2812
Система работает в паре с мобильным приложением на Kotlin, которое отображает данные в виде графиков и предоставляет интерфейс для управления цветом и яркостью светодиодов
